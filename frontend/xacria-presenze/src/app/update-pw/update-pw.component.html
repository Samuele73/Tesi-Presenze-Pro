<app-select-lang class="position-absolute mx-2 my-2"></app-select-lang>
<section class="min-vw-100 min-vh-100 d-flex align-items-center">
  <div class="container">
    <div class="row g-0 rounded-3">
      <div class="col-lg-4 mx-auto text-center rounded bg-white">
        <img src="../../favicon.ico" alt="" class="img-fluid mb-5" id="logo">
        <form [formGroup]="updatePasswordForm" (ngSubmit)="updatePasswordFormSubmit()">
          <div class="form-group" class="mb-4">
            <label for="email" class="fw-bold fs-5 d-block mb-2">{{"Nuova password" | translate}}</label>
            <input type="text" id="email" class="w-100 form-control form-control-sm shadow-sm border-dark border-1 rounded-3" placeholder="xxxxxxx" formControlName="password">
            <div *ngIf="passwordControl!.invalid && passwordControl!.touched">
              <app-form-error [formControlRef]="passwordControl" [validator]="'required'" [errorText]="'Campo richiesto' | translate"></app-form-error>
              <app-form-error [formControlRef]="passwordControl" [validator]="'pattern'" [errorText]="'Formato E-mail non valido' | translate"></app-form-error>
            </div>
          </div>
          <div class="form-group" class="mb-4">
            <label for="email" class="fw-bold fs-5 d-block mb-2">{{"Conferma password" | translate}}</label>
            <input type="text" id="email" class="w-100 form-control form-control-sm shadow-sm border-dark border-1 rounded-3" placeholder="xxxxxxx" formControlName="password2">
            <div *ngIf="password2Control!.invalid && password2Control!.touched">
              <app-form-error [formControlRef]="password2Control" [validator]="'required'" [errorText]="'Campo richiesto' | translate"></app-form-error>
              <app-form-error [formControlRef]="password2Control" [validator]="'pattern'" [errorText]="'Formato E-mail non valido' | translate"></app-form-error>
            </div>
          </div>
          <button class="btn btn-sm btn-primary w-100 rounded-3 text-white fw-bold" [disabled]="updatePasswordForm.invalid">{{"Modifica password" | translate}}</button>
        </form>
        <div *ngIf="updatePasswordForm.errors?.['equalPasswordsValidator']" class="text-danger small mt-1">{{"Le password non corrispondono" | translate}}</div>
        <div *ngIf="serverError" class="text-danger small mt-1">{{"Non autorizzato al cambio password" | translate}}</div>
        <div class="d-flex justify-content-between mt-2">
          <app-auth-link [link]="'/login'" [text]="'Accedi' | translate"></app-auth-link>
          <app-auth-link [text]="'Informativa sulla privacy' | translate"></app-auth-link>
        </div>
      </div>
    </div>
  </div>
</section>
